!function(t,e){"use strict";e.module("angularQuickDialog",["angularQuickDialog.template"]).factory("$quickDialog",function(){function t(t){this.isVisible=!1,this.name=t}function e(t){n(t,!0)}function i(t){n(t,!1)}function n(t,e){try{a[t].isVisible=e}catch(i){throw new Error(u)}}function o(e){return a[e]=new t(e),a[e]}function c(t){try{return a[t]}catch(e){throw new Error(u)}}var a={},u="Dialog name is incorrect, it is an invalid javascript identifier (See: https://mathiasbynens.be/notes/javascript-identifiers), or it does not exist.";return t.prototype.open=function(){this.isVisible=!0},t.prototype.close=function(){this.isVisible=!1},t.prototype.toggle=function(){this.isVisible=!this.isVisible},{dialogs:a,open:e,close:i,create:o,get:c}}).directive("quickDialog",["$timeout","$quickDialog",function(i,n){return{restrict:"EA",templateUrl:"template/quick-dialog.html",scope:{},transclude:!0,link:function(o,c,a){function u(){h=h||document.activeElement,g.append(d),d.bind("click",s),m.bind("keydown",l),i(function(){p.focus()})}function r(){m.unbind("keydown",l),d.unbind("click",s),d.remove(),i(function(){o.dialog.close()}),null!==h&&(h.focus(),h=b)}function l(t){t.keyCode===f&&(t.preventDefault(),r())}function s(t){t.stopPropagation(),r()}var d=e.element(document.createElement("div")).addClass("quick-dialog__backdrop"),f=27,g=e.element(document.body),m=e.element(t),p=document.getElementById(a.autoFocus)||c[0],h=document.getElementById(a.exitFocus),b=document.getElementById(a.exitFocus);try{o.dialog=n.create(a.dialogName)}catch(y){throw new Error("Dialog needs a name.")}o.$watch("dialog.isVisible",function(t){t?u():r()}),o.$on("$routeChangeStart",function(){n.dialogs={}})}}}])}(window,window.angular);