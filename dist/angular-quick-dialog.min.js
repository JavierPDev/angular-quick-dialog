!function(i){try{i=angular.module("angularQuickDialog.template")}catch(t){i=angular.module("angularQuickDialog.template",[])}i.run(["$templateCache",function(i){i.put("template/quick-dialog.html",'<div class="quick-dialog" ng-show="dialog.isVisible"><span class="quick-dialog__close" ng-click="dialog.isVisible = false">x</span><div class="quick-dialog__content" ng-transclude></div></div>')}])}(),!function(i,t){"use strict";t.module("angularQuickDialog",["angularQuickDialog.template"]).factory("$quickDialog",function(){function i(i){this.isVisible=!1,this.name=i}function t(i){n(i,!0)}function e(i){n(i,!1)}function n(i,t){try{c[i].isVisible=t}catch(e){throw new Error(l)}}function o(t){return c[t]=new i(t),c[t]}function a(i){try{return c[i]}catch(t){throw new Error(l)}}var c={},l="Dialog name is incorrect, it is an invalid javascript identifier (See: https://mathiasbynens.be/notes/javascript-identifiers), or it does not exist.";return i.prototype.open=function(){this.isVisible=!0},i.prototype.close=function(){this.isVisible=!1},i.prototype.toggle=function(){this.isVisible=!this.isVisible},{dialogs:c,open:t,close:e,create:o,get:a}}).directive("quickDialog",["$timeout","$quickDialog",function(e,n){return{restrict:"EA",templateUrl:"template/quick-dialog.html",scope:{},transclude:!0,link:function(o,a,c){function l(){h=h||document.activeElement,m.append(d),d.bind("click",r),f.bind("keydown",s),e(function(){p.focus()})}function u(){f.unbind("keydown",s),d.unbind("click",r),d.remove(),e(function(){o.dialog.close()}),null!==h&&(h.focus(),h=k)}function s(i){i.keyCode===g&&(i.preventDefault(),u())}function r(i){i.stopPropagation(),u()}var d=t.element(document.createElement("div")).addClass("quick-dialog__backdrop"),g=27,m=t.element(document.body),f=t.element(i),p=document.getElementById(c.autoFocus)||a[0],h=document.getElementById(c.exitFocus),k=document.getElementById(c.exitFocus);try{o.dialog=n.create(c.dialogName)}catch(b){throw new Error("Dialog needs a name.")}o.$watch("dialog.isVisible",function(i){i?l():u()}),o.$on("$routeChangeStart",function(){n.dialogs={}})}}}])}(window,window.angular);